# ğŸ‘¥ Rapport Utilisateurs et VMs

**GÃ©nÃ©rÃ© le :** {{ metadata.generated_at }}  
**GÃ©nÃ©rateur :** {{ metadata.generator }}  
**Version :** {{ metadata.version }}

---

## ğŸ“ˆ RÃ©sumÃ© GÃ©nÃ©ral

| MÃ©trique | Valeur |
|----------|--------|
| **Total Utilisateurs** | {{ data.summary.total_users }} |
| **Total VMs** | {{ data.summary.total_vms }} |
| **Utilisateurs avec VMs** | {{ data.summary.users_with_vms }} |
| **Utilisateurs sans VMs** | {{ data.summary.users_without_vms }} |

---

## ğŸ–¥ï¸ RÃ©partition des VMs par Statut

{% for status, count in data.summary.vms_by_status.items() %}
### {{ status|title }}
- **Nombre :** {{ count }} VM{{ 's' if count > 1 else '' }}
- **Pourcentage :** {{ "%.1f"|format((count / data.summary.total_vms) * 100) }}%

{% endfor %}

---

## ğŸ‘¤ DÃ©tails par Utilisateur

{% for user in data.users %}
### ğŸ‘¤ {{ user.name }} (ID: {{ user.id }})

**Email :** {{ user.email }}  
**VMs :** {{ user.vms|length }} VM{{ 's' if user.vms|length > 1 else '' }}

{% if user.vms %}
#### VMs de {{ user.name }}

| Nom | OS | CPU | RAM | Disque | Statut |
|-----|----|----|----|----|----|
{% for vm in user.vms %}
| {{ vm.name }} | {{ vm.operating_system }} | {{ vm.cpu_cores }} cores | {{ vm.ram_gb }} GB | {{ vm.disk_gb }} GB | {{ vm.status }} |
{% endfor %}

{% else %}
*Aucune VM associÃ©e Ã  cet utilisateur*
{% endif %}

---

{% endfor %}

---

## ğŸ“Š Statistiques DÃ©taillÃ©es

### RÃ©partition des Utilisateurs
- **Avec VMs :** {{ data.summary.users_with_vms }} ({{ "%.1f"|format((data.summary.users_with_vms / data.summary.total_users) * 100) }}%)
- **Sans VMs :** {{ data.summary.users_without_vms }} ({{ "%.1f"|format((data.summary.users_without_vms / data.summary.total_users) * 100) }}%)

### Moyenne VMs par Utilisateur
- **Moyenne gÃ©nÃ©rale :** {{ "%.1f"|format(data.summary.total_vms / data.summary.total_users) }} VM/utilisateur
- **Moyenne (utilisateurs avec VMs) :** {{ "%.1f"|format(data.summary.total_vms / data.summary.users_with_vms) if data.summary.users_with_vms > 0 else 0 }} VM/utilisateur

---

*Rapport gÃ©nÃ©rÃ© automatiquement par {{ metadata.generator }} v{{ metadata.version }}*
